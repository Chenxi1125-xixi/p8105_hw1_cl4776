---
title: "p8105_hw1_cl4776"
author: "Chenxi Liu"
date: "2025-09-20"
output: github_document
---

# Problem 1

## Install moderndive packages.

## Load dataset
```{r}
library(moderndive)
data("early_january_weather")
```

## Short description using R code.

The `early_january_weather` dataset has `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns.  
- **time_hour**: date and hour of the observation  
- **temp** (°F): hourly temperature readings  
- **humid** (%): relative humidity  
- **wind_speed**, **wind_dir**, **precip**, **pressure**: additional weather information  
The mean temperature across all observations is `r round(mean(early_january_weather$temp, na.rm = TRUE), 1)` °F.


## Scatterplot of temp vs time_hour, colored by humid.



```{r, message = FALSE}
library(tidyverse)
p_weather = ggplot(
  early_january_weather,
  aes(x = time_hour, y = temp, color = humid)
) +
  geom_point(alpha = 0.6) +
  labs(
    title = "Temperature vs Time (colored by Humidity)",
    x = "Time (hourly)",
    y = "Temperature (°F)",
    color = "Humidity"
  ) +
  theme_minimal()

p_weather
```

### Patterns
Temperatures range roughly from 28 °F to 55 °F, showing a clear daily cycle: daytime temperatures average around 38 °F–40 °F, while nighttime temperatures are closer to 34 °F. Points with higher humidity, shown in darker blue, are concentrated at cooler temperatures (generally below 35 °F), indicating that humidity tends to be higher during colder periods.

# export plot

```{r}
ggsave("temp_vs_time_humid.png", plot = p_weather, width = 8, height = 5, dpi = 300)
```
# Problem 2 

## create a dataframe
```{r}
library(tidyverse)

set.seed(123) # reproducibility

df = tibble(
  norm_sample = rnorm(10),                              # numeric
  greater_than_zero = rnorm(10) > 0,                    # logical
  char_vec = letters[1:10],                             # character
  factor_vec = factor(rep(c("low", "medium", "high"), length.out = 10))  # factor
)


df
```

## Compute means using tidyverse and pull()
```{r}
library(tidyverse)

mean(pull(df, norm_sample))          # works: numeric
mean(pull(df, greater_than_zero))    # works: logical coerced to 0/1
mean(pull(df, char_vec))             # error: characters cannot be averaged
mean(pull(df, factor_vec))           # error: factors cannot be averaged directly
```
## Convert variables to numeric
```{r}
as.numeric(df$greater_than_zero)    # TRUE/FALSE → 1/0
as.numeric(df$char_vec)             # all NA + warning
as.numeric(df$factor_vec)           # integer codes of factor levels
```
